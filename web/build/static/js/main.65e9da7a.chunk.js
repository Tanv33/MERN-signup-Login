(this["webpackJsonpsignup-login-mern"]=this["webpackJsonpsignup-login-mern"]||[]).push([[0],{199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},329:function(e,t,a){},332:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(56),s=a.n(o),l=(a(199),a(200),a(13)),c=(a(201),a(393)),i=a(382),d=a(396),u=a(101),h=a(40),j=a(57),b=a.n(j),m=a(386),p=a(376),x=a(1);function O(e){return Object(x.jsx)(p.a,{sx:{width:"100%",position:"absolute",top:"0"},spacing:2,children:Object(x.jsx)(m.a,{severity:e.type,children:e.message})})}var f=a(18),g=a(58),v=function(e,t){switch(t.type){case"USER_LOGIN":return t.payload.fullName&&t.payload.email&&t.payload.gender&&t.payload.phoneNumber&&t.payload.address?Object(g.a)(Object(g.a)({},e),{},{user:t.payload}):(console.log("invalid data in USER_LOGIN reducer "),e);case"USER_LOGOUT":return Object(g.a)(Object(g.a)({},e),{},{user:null});default:return e}},y=Object(n.createContext)("Initial Value"),w={user:{}};function N(e){var t=e.children,a=Object(n.useReducer)(v,w),r=Object(l.a)(a,2),o=r[0],s=r[1];return Object(x.jsx)(y.Provider,{value:{state:o,dispatch:s},children:t})}var C=h.a({email:h.b("Enter your email").min(14,"Email should be 14 characters long").email("Enter a valid email").required("Email is required"),password:h.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")});var E=function(){var e=Object(n.useContext)(y).dispatch,t=Object(n.useState)(""),a=Object(l.a)(t,2),r=a[0],o=a[1],s="localhost"===window.location.hostname.split(":")[0]?"http://localhost:2000":"",h=Object(u.a)({initialValues:{email:"",password:""},validationSchema:C,onSubmit:function(t){b.a.post("".concat(s,"/api/v1/login"),{email:t.email,password:t.password}).then((function(t){"error"!==t.data?(e({type:"USER_LOGIN",payload:{fullName:t.data.fullName,email:t.data.email,gender:t.data.gender,phoneNumber:t.data.phoneNumber,address:t.data.address}}),o(!0),setTimeout((function(){j.push("/dashboard"),o([])}),1e3)):(o(!1),setTimeout((function(){o([])}),1e3))}))}}),j=Object(f.f)();return Object(x.jsxs)("div",{children:[!0===r?Object(x.jsx)(O,{type:"success",message:"Welcome"}):"",!1===r?Object(x.jsx)(O,{type:"error",message:"Invalid email or password"}):"",Object(x.jsx)("main",{children:Object(x.jsxs)("section",{className:"glass",children:[Object(x.jsx)("div",{className:"flex",children:Object(x.jsx)("h1",{className:"loginHeading",children:"Login Form"})}),Object(x.jsxs)(c.a,{type:"form",component:"form",sx:{"& > :not(style)":{m:1,width:"70%"}},noValidate:!0,autoComplete:"off",textAlign:"center",onSubmit:h.handleSubmit,children:[Object(x.jsx)(i.a,{fullWidth:!0,type:"email",name:"email",label:"Email",variant:"outlined",placeholder:"Enter your Email",value:h.values.email,onChange:h.handleChange,error:h.touched.email&&Boolean(h.errors.email),helperText:h.touched.email&&h.errors.email}),Object(x.jsx)(i.a,{fullWidth:!0,type:"password",name:"password",id:"outlined-basic",label:"Password",variant:"outlined",placeholder:"Enter Password",value:h.values.password,onChange:h.handleChange,error:h.touched.password&&Boolean(h.errors.password),helperText:h.touched.password&&h.errors.password}),Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(x.jsx)(d.a,{type:"submit",size:"medium",variant:"contained",color:"info",style:{margin:"4px"},children:"Submit"}),Object(x.jsx)(d.a,{size:"medium",variant:"contained",color:"success",style:{margin:"4px"},onClick:function(){return j.push("/signup")},children:"Create an account"})]})]})]})})]})},S=(a(329),a(384)),T=a(390),P=a(397),k=a(394),q=a(379),B=h.a({fullName:h.b("Enter a valid Name").min(8,"Name should be 8 characters long").required("Name is required"),email:h.b("Enter your email").min(14,"Email should be 14 characters long").email("Enter a valid email").required("Email is required"),phoneNumber:h.b("Enter your phone number").min(10,"Phone number should be 10 integers long").required("Phone number is required"),password:h.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required"),address:h.b("Enter your address").min(20,"Address should be of minimum 20 characters in length").required("Address is required")});var G=function(){var e=Object(f.f)(),t=Object(n.useState)(""),a=Object(l.a)(t,2),r=a[0],o=a[1],s="localhost"===window.location.hostname.split(":")[0]?"http://localhost:2000":"",h=Object(u.a)({initialValues:{fullName:"",email:"",phoneNumber:"",password:"",address:""},validationSchema:B,onSubmit:function(t){var a=document.querySelector('input[name="gender"]:checked').value;b.a.post("".concat(s,"/api/v1/signupuser"),{fullName:t.fullName,email:t.email,gender:a,phoneNumber:Number(t.phoneNumber),password:t.password,address:t.address}).then((function(t){"user created"===t.data&&(o(!0),setTimeout((function(){e.push("/login"),o("")}),1e3))})).catch((function(e){}))}});return Object(n.useEffect)((function(){b.a.get("".concat(s,"/api/v1/signupuser")).then((function(e){}))}),[]),Object(x.jsxs)("div",{children:[!0===r?Object(x.jsx)(O,{type:"success",message:"Welcome! Successfully account created"}):"",Object(x.jsx)("main",{children:Object(x.jsxs)("section",{className:"glass",children:[Object(x.jsx)("div",{className:"flex",children:Object(x.jsx)("h1",{className:"signHeading",children:"Signup Form"})}),Object(x.jsxs)(c.a,{type:"form",component:"form",sx:{"& > :not(style)":{m:1,width:"70%"}},noValidate:!0,autoComplete:"off",textAlign:"center",onSubmit:h.handleSubmit,children:[Object(x.jsx)(i.a,{fullWidth:!0,name:"fullName",label:"Full Name",variant:"outlined",placeholder:"Enter Your Name",value:h.values.fullName,onChange:h.handleChange,onBlur:h.handleBlur,error:h.touched.fullName&&Boolean(h.errors.fullName),helperText:h.touched.fullName&&h.errors.fullName}),Object(x.jsx)(i.a,{fullWidth:!0,name:"email",type:"email",label:"Email",variant:"outlined",placeholder:"Enter your Email",value:h.values.email,onChange:h.handleChange,error:h.touched.email&&Boolean(h.errors.email),helperText:h.touched.email&&h.errors.email}),Object(x.jsxs)(k.a,{component:"fieldset",children:[Object(x.jsx)(q.a,{component:"legend",style:{textAlign:"left"},children:"Gender"}),Object(x.jsxs)(T.a,{"aria-label":"gender",defaultValue:"male",name:"genderParent",children:[Object(x.jsx)(P.a,{name:"gender",value:"male",control:Object(x.jsx)(S.a,{}),label:"Male"}),Object(x.jsx)(P.a,{name:"gender",value:"female",control:Object(x.jsx)(S.a,{}),label:"Female"})]})]}),Object(x.jsx)(i.a,{fullWidth:!0,name:"phoneNumber",label:"Phone Number",variant:"outlined",placeholder:"Enter Phone Number",value:h.values.phoneNumber,onChange:h.handleChange,error:h.touched.phoneNumber&&Boolean(h.errors.phoneNumber),helperText:h.touched.phoneNumber&&h.errors.phoneNumber}),Object(x.jsx)(i.a,{fullWidth:!0,name:"password",type:"password",label:"Password",variant:"outlined",placeholder:"Enter Password",value:h.values.password,onChange:h.handleChange,error:h.touched.password&&Boolean(h.errors.password),helperText:h.touched.password&&h.errors.password}),Object(x.jsx)(i.a,{fullWidth:!0,name:"address",id:"outlined-basic",label:"Address",variant:"outlined",placeholder:"Type Your address",value:h.values.address,onChange:h.handleChange,error:h.touched.address&&Boolean(h.errors.address),helperText:h.touched.address&&h.errors.address}),Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(x.jsx)(d.a,{type:"submit",size:"medium",variant:"contained",color:"info",style:{margin:"4px"},children:"Submit"}),Object(x.jsx)(d.a,{size:"medium",variant:"contained",color:"success",style:{margin:"4px"},onClick:function(){return e.push("/login")},children:"I have an account"})]})]})]})})]})},W=a(399),F=a(400),L=a(398),A=a(392),z=a(99),I=a.n(z);function U(){var e=Object(f.f)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(c.a,{sx:{flexGrow:1},children:Object(x.jsx)(W.a,{position:"static",style:{backgroundColor:"#800020"},children:Object(x.jsxs)(F.a,{children:[Object(x.jsx)(A.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(x.jsx)(I.a,{})}),Object(x.jsx)(L.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:Object(x.jsx)("span",{onClick:function(){return e.push("/")},style:{cursor:"pointer"},children:"Dashboard"})}),Object(x.jsx)(d.a,{color:"inherit",onClick:function(){return e.push("/login")},children:"Login"}),Object(x.jsx)(d.a,{color:"inherit",onClick:function(){return e.push("/signup")},children:"Signup"})]})})}),Object(x.jsx)("div",{style:{width:"100vw",height:"80vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(x.jsx)(L.a,{variant:"h3",style:{fontWeight:"bolder",color:"#800020"},children:"Login To Access Services"})})]})}var R=a(5),V=a(407),_=a(387),D=a(395),H=a(388),J=a(401),M=a(3),Y=a(404),K=a(406),Q=a(381),X=a(128),Z=a(403),$=a(405),ee=a(402),te=a(391);var ae=function(){var e,t=Object(f.f)(),a="localhost"===window.location.hostname.split(":")[0]?"http://localhost:2000":"",o=Object(n.useContext)(y),s=o.state,u=o.dispatch,h=Object(n.useState)(""),j=Object(l.a)(h,2),m=j[0],p=j[1],v=Object(n.useState)([]),w=Object(l.a)(v,2),N=w[0],C=w[1],E=Object(n.useState)(!1),S=Object(l.a)(E,2),T=S[0],P=S[1],k=Object(n.useState)(""),q=Object(l.a)(k,2),B=q[0],G=q[1];Object(n.useEffect)((function(){return b.a.get("".concat(a,"/api/v1/post")).then((function(e){var t=[];e.data.forEach((function(e){t.unshift(e)})),C([].concat(t))})),function(){}}),[T]);var z=r.a.useState({top:!1,left:!1,bottom:!1,right:!1}),U=Object(l.a)(z,2),ae=U[0],ne=U[1],re=function(e,t){return function(a){(!a||"keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&ne(Object(g.a)(Object(g.a)({},ae),{},Object(R.a)({},e,t)))}},oe=function(e){return Object(x.jsx)(c.a,{sx:{width:"top"===e||"bottom"===e?"auto":250},role:"presentation",onClick:re(e,!1),onKeyDown:re(e,!1),children:Object(x.jsx)(D.a,{children:["Name: ".concat(s.user.fullName),"Email: ".concat(s.user.email),"Gender: ".concat(s.user.gender),"Phone Number: ".concat(s.user.phoneNumber),"Address: ".concat(s.user.address)].map((function(e,t){return Object(x.jsx)(H.a,{children:Object(x.jsx)(J.a,{primary:e})},e)}))})})},se=Object(M.a)(Q.a)((function(e){var t,a=e.theme;return t={},Object(R.a)(t,"&.".concat(X.a.head),{backgroundColor:"#800020",color:a.palette.common.white}),Object(R.a)(t,"&.".concat(X.a.body),{fontSize:14}),t})),le=Object(M.a)(ee.a)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));return Object(x.jsxs)("div",{children:[Object(x.jsx)(c.a,{sx:{flexGrow:1},children:Object(x.jsx)(W.a,{position:"static",sx:{backgroundColor:"\t#800020"},children:Object(x.jsxs)(F.a,{children:[Object(x.jsxs)(A.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:0,position:"relative"},children:[Object(x.jsx)(I.a,{}),Object(x.jsx)("div",{style:{position:"absolute",left:"0px"},children:["left"].map((function(e){return Object(x.jsxs)(r.a.Fragment,{children:[Object(x.jsx)(d.a,{onClick:re(e,!0),style:{color:"transparent",padding:"0px"},children:e}),Object(x.jsx)(_.a,{anchor:e,open:ae[e],onClose:re(e,!1),onOpen:re(e,!0),children:oe(e)})]},e)}))})]}),Object(x.jsx)(L.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Dashboard"}),Object(x.jsx)(d.a,{color:"inherit",onClick:function(){var e;(null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.fullName)?(G(!0),setTimeout((function(){t.push("/login"),u({type:"USER_LOGOUT",payload:null}),G([])}),1e3)):(G(!1),setTimeout((function(){G([])}),1e3))},children:"Logout"})]})})}),Object(x.jsxs)(V.a,{children:[Object(x.jsx)(L.a,{variant:"h4",style:{marginTop:"30px",fontWeight:"bold",color:"darkred"},children:"Type your Post"}),Object(x.jsxs)("form",{onSubmit:function(e){var t;(e.preventDefault(),""!==m)&&((null===s||void 0===s||null===(t=s.user)||void 0===t?void 0:t.fullName)&&b.a.post("".concat(a,"/api/v1/post"),{text:m,author:s.user.fullName}).then((function(e){P(!T),p("")})))},children:[Object(x.jsx)(c.a,{sx:{"& > :not(style)":{marginTop:"20px",marginBottom:"14px",width:"100%"}},autoComplete:"off",children:Object(x.jsx)(i.a,{label:"Enter text",value:m,onChange:function(e){p(e.target.value)},variant:"filled"})}),Object(x.jsx)(d.a,{variant:"contained",color:"error",size:"large",style:{marginBottom:"40px"},type:"submit",children:"Post"})]}),Object(x.jsx)(Z.a,{component:te.a,children:Object(x.jsxs)(Y.a,{"aria-label":"customized table",children:[Object(x.jsx)($.a,{children:Object(x.jsx)(ee.a,{children:Object(x.jsx)(se,{sx:{textAlign:"center "},children:Object(x.jsx)(L.a,{variant:"h6",children:"All Users Posts"})})})}),Object(x.jsx)(K.a,{children:(null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.fullName)&&N.map((function(e){return Object(x.jsx)(le,{children:Object(x.jsxs)(se,{component:"th",scope:"row",children:[e.text," -"," ",Object(x.jsx)("span",{style:{fontWeight:"bold",color:"red"},children:e.author})]})},e._id)}))})]})})]}),!0===B?Object(x.jsx)(O,{type:"success",message:"Good bye!"}):"",!1===B?Object(x.jsx)(O,{type:"error",message:"Sorry! Something went wrong"}):""]})};var ne=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(f.c,{children:[Object(x.jsx)(f.a,{exact:!0,path:"/dashboard",children:Object(x.jsx)(ae,{})}),Object(x.jsx)(f.a,{exact:!0,path:"/signup",children:Object(x.jsx)(G,{})}),Object(x.jsx)(f.a,{exact:!0,path:"/login",children:Object(x.jsx)(E,{})}),Object(x.jsx)(f.a,{exact:!0,path:"/",children:Object(x.jsx)(U,{})}),Object(x.jsx)(f.a,{exact:!0,path:"*",children:Object(x.jsx)(U,{})})]})})},re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,409)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),o(e),s(e)}))},oe=a(61);s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(N,{children:Object(x.jsx)(oe.a,{children:Object(x.jsx)(ne,{})})})}),document.getElementById("root")),re()}},[[332,1,2]]]);
//# sourceMappingURL=main.65e9da7a.chunk.js.map