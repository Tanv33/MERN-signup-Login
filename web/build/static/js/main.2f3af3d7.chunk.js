(this["webpackJsonpsignup-login-mern"]=this["webpackJsonpsignup-login-mern"]||[]).push([[0],{199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},329:function(e,t,a){},332:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(56),l=a.n(o),s=(a(199),a(200),a(13)),i=(a(201),a(395)),c=a(383),d=a(394),u=a(398),h=a(102),j=a(40),m=a(57),b=a.n(m),p=a(387),x=a(377),O=a(1);function g(e){return Object(O.jsx)(x.a,{sx:{width:"100%",position:"absolute",top:"0"},spacing:2,children:Object(O.jsx)(p.a,{severity:e.type,children:e.message})})}var f=a(18),v=a(58),y=function(e,t){switch(t.type){case"USER_LOGIN":return t.payload.fullName&&t.payload.email&&t.payload.gender&&t.payload.phoneNumber&&t.payload.address?Object(v.a)(Object(v.a)({},e),{},{user:t.payload}):(console.log("invalid data in USER_LOGIN reducer "),e);case"USER_LOGOUT":return Object(v.a)(Object(v.a)({},e),{},{user:null});default:return e}},w=Object(n.createContext)("Initial Value"),N={user:{}};function C(e){var t=e.children,a=Object(n.useReducer)(y,N),r=Object(s.a)(a,2),o=r[0],l=r[1];return Object(O.jsx)(w.Provider,{value:{state:o,dispatch:l},children:t})}var S=j.a({email:j.b("Enter your email").min(14,"Email should be 14 characters long").email("Enter a valid email").required("Email is required"),password:j.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")});var E=function(){var e=Object(n.useContext)(w).dispatch,t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],o=a[1],l="localhost"===window.location.hostname.split(":")[0]?"http://localhost:2000":"",j=Object(h.a)({initialValues:{email:"",password:""},validationSchema:S,onSubmit:function(t){b.a.post("".concat(l,"/api/v1/login"),{email:t.email,password:t.password}).then((function(t){"error"!==t.data?(e({type:"USER_LOGIN",payload:{fullName:t.data.fullName,email:t.data.email,gender:t.data.gender,phoneNumber:t.data.phoneNumber,address:t.data.address}}),o(!0),setTimeout((function(){m.push("/dashboard"),o([])}),1e3)):(o(!1),setTimeout((function(){o([])}),1e3))}))}}),m=Object(f.f)();return Object(O.jsxs)(O.Fragment,{children:[!0===r?Object(O.jsx)(g,{type:"success",message:"Welcome"}):"",!1===r?Object(O.jsx)(g,{type:"error",message:"Invalid email or password"}):"",Object(O.jsx)("div",{className:"mainParent",children:Object(O.jsxs)("div",{className:"parentChild",children:[Object(O.jsx)("div",{className:"loginHeading",children:Object(O.jsx)(d.a,{variant:"h4",style:{fontWeight:"bold",color:"#800020"},children:"Login Form"})}),Object(O.jsxs)(i.a,{type:"form",component:"form",noValidate:!0,autoComplete:"off",textAlign:"center",onSubmit:j.handleSubmit,children:[Object(O.jsx)(c.a,{fullWidth:!0,type:"email",name:"email",label:"Email",variant:"outlined",placeholder:"Enter your Email",value:j.values.email,onChange:j.handleChange,error:j.touched.email&&Boolean(j.errors.email),helperText:j.touched.email&&j.errors.email,style:{marginBottom:"15px"}}),Object(O.jsx)(c.a,{fullWidth:!0,type:"password",name:"password",id:"outlined-basic",label:"Password",variant:"outlined",placeholder:"Enter Password",value:j.values.password,onChange:j.handleChange,error:j.touched.password&&Boolean(j.errors.password),helperText:j.touched.password&&j.errors.password}),Object(O.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",marginTop:"12px"},children:[Object(O.jsx)(u.a,{type:"submit",size:"small",variant:"contained",style:{marginRight:"5px",backgroundColor:"#800020"},children:"Submit"}),Object(O.jsx)(u.a,{variant:"contained",size:"small",color:"error",onClick:function(){return m.push("/signup")},style:{backgroundColor:"#800020"},children:"Create an account"})]})]})]})})]})},k=(a(329),a(385)),T=a(391),P=a(399),B=a(396),q=a(380),W=j.a({fullName:j.b("Enter a valid Name").min(8,"Name should be 8 characters long").required("Name is required"),email:j.b("Enter your email").min(14,"Email should be 14 characters long").email("Enter a valid email").required("Email is required"),phoneNumber:j.b("Enter your phone number").min(10,"Phone number should be 10 integers long").required("Phone number is required"),password:j.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required"),address:j.b("Enter your address").min(20,"Address should be of minimum 20 characters in length").required("Address is required")});var F=function(){var e=Object(f.f)(),t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],o=a[1],l="localhost"===window.location.hostname.split(":")[0]?"http://localhost:2000":"",j=Object(h.a)({initialValues:{fullName:"",email:"",phoneNumber:"",password:"",address:""},validationSchema:W,onSubmit:function(t){var a=document.querySelector('input[name="gender"]:checked').value;b.a.post("".concat(l,"/api/v1/signupuser"),{fullName:t.fullName,email:t.email,gender:a,phoneNumber:Number(t.phoneNumber),password:t.password,address:t.address}).then((function(t){"user created"===t.data&&(o(!0),setTimeout((function(){e.push("/login"),o("")}),1e3))})).catch((function(e){}))}});return Object(n.useEffect)((function(){b.a.get("".concat(l,"/api/v1/signupuser")).then((function(e){}))}),[]),Object(O.jsxs)("div",{children:[!0===r?Object(O.jsx)(g,{type:"success",message:"Welcome! Successfully account created"}):"",Object(O.jsx)("div",{className:"mainParentSign",children:Object(O.jsxs)("div",{className:"parentChildSign",children:[Object(O.jsx)("div",{className:"loginHeadingSign",children:Object(O.jsx)(d.a,{variant:"h4",style:{fontWeight:"bold",color:"#800020"},children:"Signup Form"})}),Object(O.jsxs)(i.a,{type:"form",component:"form",noValidate:!0,autoComplete:"off",onSubmit:j.handleSubmit,children:[Object(O.jsx)(c.a,{fullWidth:!0,name:"fullName",label:"Full Name",variant:"outlined",placeholder:"Enter Your Name",value:j.values.fullName,onChange:j.handleChange,onBlur:j.handleBlur,error:j.touched.fullName&&Boolean(j.errors.fullName),helperText:j.touched.fullName&&j.errors.fullName,style:{marginBottom:"10px"}}),Object(O.jsx)(c.a,{fullWidth:!0,name:"email",type:"email",label:"Email",variant:"outlined",placeholder:"Enter your Email",value:j.values.email,onChange:j.handleChange,error:j.touched.email&&Boolean(j.errors.email),helperText:j.touched.email&&j.errors.email,style:{marginBottom:"10px"}}),Object(O.jsxs)(B.a,{component:"fieldset",children:[Object(O.jsx)(q.a,{component:"legend",style:{textAlign:"left"},children:"Gender"}),Object(O.jsxs)(T.a,{"aria-label":"gender",defaultValue:"male",name:"genderParent",children:[Object(O.jsx)(P.a,{name:"gender",value:"male",control:Object(O.jsx)(k.a,{}),label:"Male"}),Object(O.jsx)(P.a,{name:"gender",value:"female",control:Object(O.jsx)(k.a,{}),label:"Female"})]})]}),Object(O.jsx)(c.a,{fullWidth:!0,name:"phoneNumber",label:"Phone Number",variant:"outlined",placeholder:"Enter Phone Number",value:j.values.phoneNumber,onChange:j.handleChange,error:j.touched.phoneNumber&&Boolean(j.errors.phoneNumber),helperText:j.touched.phoneNumber&&j.errors.phoneNumber,style:{marginBottom:"10px"}}),Object(O.jsx)(c.a,{fullWidth:!0,name:"password",type:"password",label:"Password",variant:"outlined",placeholder:"Enter Password",value:j.values.password,onChange:j.handleChange,error:j.touched.password&&Boolean(j.errors.password),helperText:j.touched.password&&j.errors.password,style:{marginBottom:"10px"}}),Object(O.jsx)(c.a,{fullWidth:!0,name:"address",id:"outlined-basic",label:"Address",variant:"outlined",placeholder:"Type Your address",value:j.values.address,onChange:j.handleChange,error:j.touched.address&&Boolean(j.errors.address),helperText:j.touched.address&&j.errors.address,style:{marginBottom:"10px"}}),Object(O.jsx)(u.a,{type:"submit",size:"medium",variant:"contained",style:{marginRight:"5px",backgroundColor:"#800020",marginBottom:"15px"},children:"Submit"}),Object(O.jsx)(u.a,{size:"medium",variant:"contained",color:"success",style:{backgroundColor:"#800020",marginBottom:"15px"},onClick:function(){return e.push("/login")},children:"I have an account"})]})]})})]})},G=a(400),L=a(401),A=a(402),I=a(393),z=a(100),R=a.n(z);function U(){var e=Object(f.f)();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(i.a,{sx:{flexGrow:1},children:Object(O.jsx)(G.a,{position:"static",style:{backgroundColor:"#800020"},children:Object(O.jsxs)(L.a,{children:[Object(O.jsx)(I.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(O.jsx)(R.a,{})}),Object(O.jsx)(d.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:Object(O.jsx)("span",{onClick:function(){return e.push("/")},style:{cursor:"pointer"},children:"Dashboard"})}),Object(O.jsx)(u.a,{color:"inherit",onClick:function(){return e.push("/login")},children:"Login"}),Object(O.jsx)(u.a,{color:"inherit",onClick:function(){return e.push("/signup")},children:"Signup"})]})})}),Object(O.jsx)(A.a,{children:Object(O.jsx)("div",{style:{width:"100%",height:"80vh",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},children:Object(O.jsx)(d.a,{variant:"h4",style:{fontWeight:"bolder",color:"#800020"},children:"Login To Access Services"})})})]})}var V=a(5),_=a(388),D=a(397),H=a(389),J=a(403),M=a(3),Y=a(406),K=a(408),Q=a(382),X=a(128),Z=a(405),$=a(407),ee=a(404),te=a(392);var ae=function(){var e,t=Object(f.f)(),a="localhost"===window.location.hostname.split(":")[0]?"http://localhost:2000":"",o=Object(n.useContext)(w),l=o.state,h=o.dispatch,j=Object(n.useState)(""),m=Object(s.a)(j,2),p=m[0],x=m[1],y=Object(n.useState)([]),N=Object(s.a)(y,2),C=N[0],S=N[1],E=Object(n.useState)(!1),k=Object(s.a)(E,2),T=k[0],P=k[1],B=Object(n.useState)(""),q=Object(s.a)(B,2),W=q[0],F=q[1];Object(n.useEffect)((function(){return b.a.get("".concat(a,"/api/v1/post")).then((function(e){var t=[];e.data.forEach((function(e){t.unshift(e)})),S([].concat(t))})),function(){}}),[T]);var z=r.a.useState({top:!1,left:!1,bottom:!1,right:!1}),U=Object(s.a)(z,2),ae=U[0],ne=U[1],re=function(e,t){return function(a){(!a||"keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&ne(Object(v.a)(Object(v.a)({},ae),{},Object(V.a)({},e,t)))}},oe=function(e){return Object(O.jsx)(i.a,{sx:{width:"top"===e||"bottom"===e?"auto":250},role:"presentation",onClick:re(e,!1),onKeyDown:re(e,!1),children:Object(O.jsx)(D.a,{children:["Name: ".concat(l.user.fullName),"Email: ".concat(l.user.email),"Gender: ".concat(l.user.gender),"Phone Number: ".concat(l.user.phoneNumber),"Address: ".concat(l.user.address)].map((function(e,t){return Object(O.jsx)(H.a,{children:Object(O.jsx)(J.a,{primary:e})},e)}))})})},le=Object(M.a)(Q.a)((function(e){var t,a=e.theme;return t={},Object(V.a)(t,"&.".concat(X.a.head),{backgroundColor:"#800020",color:a.palette.common.white}),Object(V.a)(t,"&.".concat(X.a.body),{fontSize:14}),t})),se=Object(M.a)(ee.a)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));return Object(O.jsxs)("div",{children:[Object(O.jsx)(i.a,{sx:{flexGrow:1},children:Object(O.jsx)(G.a,{position:"static",sx:{backgroundColor:"\t#800020"},children:Object(O.jsxs)(L.a,{children:[Object(O.jsxs)(I.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:0,position:"relative"},children:[Object(O.jsx)(R.a,{}),Object(O.jsx)("div",{style:{position:"absolute",left:"0px"},children:["left"].map((function(e){return Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsx)(u.a,{onClick:re(e,!0),style:{color:"transparent",padding:"0px"},children:e}),Object(O.jsx)(_.a,{anchor:e,open:ae[e],onClose:re(e,!1),onOpen:re(e,!0),children:oe(e)})]},e)}))})]}),Object(O.jsx)(d.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Dashboard"}),Object(O.jsx)(u.a,{color:"inherit",onClick:function(){var e;(null===l||void 0===l||null===(e=l.user)||void 0===e?void 0:e.fullName)?(F(!0),setTimeout((function(){t.push("/login"),h({type:"USER_LOGOUT",payload:null}),F([])}),1e3)):(F(!1),setTimeout((function(){F([])}),1e3))},children:"Logout"})]})})}),Object(O.jsxs)(A.a,{children:[Object(O.jsx)(d.a,{variant:"h4",style:{marginTop:"30px",fontWeight:"bold",color:"darkred"},children:"Type your Post"}),Object(O.jsxs)("form",{onSubmit:function(e){var t;(e.preventDefault(),""!==p)&&((null===l||void 0===l||null===(t=l.user)||void 0===t?void 0:t.fullName)&&b.a.post("".concat(a,"/api/v1/post"),{text:p,author:l.user.fullName}).then((function(e){P(!T),x("")})))},children:[Object(O.jsx)(i.a,{sx:{"& > :not(style)":{marginTop:"20px",marginBottom:"14px",width:"100%"}},autoComplete:"off",children:Object(O.jsx)(c.a,{label:"Enter text",value:p,onChange:function(e){x(e.target.value)},variant:"filled"})}),Object(O.jsx)(u.a,{variant:"contained",color:"error",size:"large",style:{marginBottom:"40px"},type:"submit",children:"Post"})]}),Object(O.jsx)(Z.a,{component:te.a,children:Object(O.jsxs)(Y.a,{"aria-label":"customized table",children:[Object(O.jsx)($.a,{children:Object(O.jsx)(ee.a,{children:Object(O.jsx)(le,{sx:{textAlign:"center "},children:Object(O.jsx)(d.a,{variant:"h6",children:"All Users Posts"})})})}),Object(O.jsx)(K.a,{children:(null===l||void 0===l||null===(e=l.user)||void 0===e?void 0:e.fullName)&&C.map((function(e){return Object(O.jsx)(se,{children:Object(O.jsxs)(le,{component:"th",scope:"row",children:[e.text," -"," ",Object(O.jsx)("span",{style:{fontWeight:"bold",color:"red"},children:e.author})]})},e._id)}))})]})})]}),!0===W?Object(O.jsx)(g,{type:"success",message:"Good bye!"}):"",!1===W?Object(O.jsx)(g,{type:"error",message:"Sorry! Something went wrong"}):""]})};var ne=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(f.c,{children:[Object(O.jsx)(f.a,{exact:!0,path:"/dashboard",children:Object(O.jsx)(ae,{})}),Object(O.jsx)(f.a,{exact:!0,path:"/signup",children:Object(O.jsx)(F,{})}),Object(O.jsx)(f.a,{exact:!0,path:"/login",children:Object(O.jsx)(E,{})}),Object(O.jsx)(f.a,{exact:!0,path:"/",children:Object(O.jsx)(U,{})}),Object(O.jsx)(f.a,{exact:!0,path:"*",children:Object(O.jsx)(U,{})})]})})},re=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,410)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),o(e),l(e)}))},oe=a(61);l.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(C,{children:Object(O.jsx)(oe.a,{children:Object(O.jsx)(ne,{})})})}),document.getElementById("root")),re()}},[[332,1,2]]]);
//# sourceMappingURL=main.2f3af3d7.chunk.js.map